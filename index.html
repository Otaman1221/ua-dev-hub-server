<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>UA Dev Hub | Full Stack Workspace</title>
    <style>
        :root { --bg: #1a1b26; --panel: #16161e; --accent: #7aa2f7; --text: #c0caf5; --border: #3b4261; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        #sidebar { width: 70px; background: var(--panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 20px; gap: 20px; }
        .nav-btn { background: transparent; color: #a9b1d6; font-size: 24px; border: none; cursor: pointer; padding: 12px; border-radius: 12px; }
        .nav-btn.active { background: #3d59a1; color: white; }

        #main { flex: 1; display: flex; flex-direction: column; }
        #header { height: 60px; background: var(--panel); border-bottom: 1px solid var(--border); display: flex; align-items: center; padding: 0 20px; }
        
        .view { display: none; flex: 1; padding: 20px; overflow-y: auto; }
        .view.active { display: flex; flex-direction: column; }

        /* –°—Ç–∏–ª—ñ —Ç–∞–±–ª–∏—Ü—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: var(--panel); border-radius: 8px; overflow: hidden; }
        th { background: #3d59a1; color: white; padding: 12px; text-align: left; }
        td { padding: 12px; border-bottom: 1px solid var(--border); }
        tr:hover { background: #24283b; }

        /* –ß–∞—Ç */
        #messages { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .bubble { max-width: 70%; padding: 10px; border-radius: 10px; background: #24283b; }
        .mine { align-self: flex-end; background: #3d59a1; }
    </style>
</head>
<body>

    <div id="sidebar">
        <button class="nav-btn active" onclick="switchView(0, this)">üõ†</button>
        <button class="nav-btn" onclick="switchView(1, this)">üí¨</button>
    </div>

    <div id="main">
        <div id="header"><b style="color: var(--accent);">UA DEV HUB SERVER</b></div>

        <div id="work-view" class="view active">
            <h2>üìä –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö: Sambir City Water</h2>
            <button onclick="loadDatabase()" style="width: 150px; padding: 10px; background: var(--accent); border: none; border-radius: 5px; cursor: pointer;">–û–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ</button>
            <div id="db-container">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–û–Ω–æ–≤–∏—Ç–∏", —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ –∑ MSI...</div>
        </div>

        <div id="chat-view" class="view">
            <div id="messages"></div>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <input type="text" id="msgIn" style="flex: 1; padding: 10px; border-radius: 5px; border: 1px solid var(--border); background: #1a1b26; color: white;">
                <button onclick="sendMsg()" style="padding: 10px 20px; background: var(--accent); border: none; border-radius: 5px;">‚û§</button>
            </div>
        </div>
    </div>

    <script>
        const CFG = {
            REPO: "Otaman1221/ua-dev-hub-server",
            TOKEN: "–¢–í–Ü–ô_–ù–û–í–ò–ô_–¢–û–ö–ï–ù", //
            USER: "Andriy Bashak"
        };

        function switchView(idx, btn) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            const views = [document.getElementById('work-view'), document.getElementById('chat-view')];
            views[idx].classList.add('active');
            if(idx === 0) loadDatabase();
        }

        async function loadDatabase() {
            const container = document.getElementById('db-container');
            container.innerHTML = "‚åõ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞...";
            try {
                const res = await fetch('http://localhost:5000/api/database');
                const data = await res.json();
                
                let html = '<table><tr><th>ID</th><th>–ê–±–æ–Ω–µ–Ω—Ç</th><th>–°—Ç–∞—Ç—É—Å</th></tr>';
                data.forEach(row => {
                    html += `<tr><td>${row.id || i}</td><td>${row.name || '–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á'}</td><td>‚úÖ –ê–∫—Ç–∏–≤–Ω–∏–π</td></tr>`;
                });
                html += '</table>';
                container.innerHTML = html;
            } catch (e) {
                container.innerHTML = "<p style='color: #f7768e;'>‚ùå –ü–æ–º–∏–ª–∫–∞: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª server_api.py –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ –≤–∞—à–æ–º—É MSI –Ω–æ—É—Ç–±—É—Ü—ñ.</p>";
            }
        }

        // –õ–æ–≥—ñ–∫–∞ —á–∞—Ç—É (—è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –∫–æ–¥–∞—Ö)
        async function loadMessages() { /* ... */ }
        async function sendMsg() { /* ... */ }

        loadDatabase(); // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
    </script>
</body>
</html>